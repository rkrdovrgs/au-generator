<template>
    <h2>Edit Model</h2>
    Model name:
    <input type="" placeholder="Model name" value.bind="model.name" />

    <hr/>
    <button click.trigger="addProperty()">Add Property</button>
    <div repeat.for="p of model.properties">
        <input type="text" placeholder="Name" value.bind="p.name" />
        <label>Is Array?
            <input type="checkbox" checked.bind="p.isArray" />
        </label>
        <select value.bind="p.type">
            <optgroup label="Base types">
                <option>any</option>
                <option>string</option>
                <option>number</option>
                <option>boolean</option>
                <option>Date</option>
            </optgroup>
            <optgroup label="Complex types">
                <option repeat.for="m of complexTypes">I${m.name}</option>
            </optgroup>
        </select>
        <select value.bind="p.controlType">
            <option>text</option>
            <option>checkbox</option>
            <option>select</option>
            <option>date</option>
            <option>datetime</option>
            <option>email</option>
            <option>textarea</option>
            <option>file</option>
            <option>number</option>
            <option>radio-button</option>
        </select>
        <select value.bind="p.displayType">
            <option>text</option>
            <option>checkbox</option>
            <option>radio-button</option>
            <option>image</option>
        </select>
        <button click.trigger="removeProperty($index)">[x]</button>
    </div>
    <hr/>
    <div>
        <pre>I${model.name} {
    <div repeat.for="p of model.properties">${p.name}: ${p.type}${p.isArray ? '[]' : ''};</div>
}
    </pre>
    </div>

    <hr/>

    <button click.trigger="save()">Save</button>
</template>