<template>
    <h2>Edit Model</h2>
    Name:
    <input type="" placeholder="Name (e.g.: ReportingEntity)" value.bind="model.name" />
    <br/> Plural:
    <input type="" placeholder="Plural (e.g.: ReportingEntities" value.bind="model.namePlural" />

    <hr/>
    <button click.trigger="addProperty()">Add Property</button>
    <div class="row">
        <div class="col col-md-3">Name</div>
        <div class="col col-md-2">Is Array?</div>
        <div class="col col-md-2">Data Type</div>
        <!--
        <div class="col col-md-2">Control Type</div>
        <div class="col col-md-2">Display Type</div>
        -->
        <div class="col col-md-1"></div>
    </div>
    <div class="row" repeat.for="p of model.properties">
        <div class="col col-md-3">
            <input type="text" placeholder="Name" value.bind="p.name" />
        </div>
        <div class="col col-md-2">
            <input type="checkbox" checked.bind="p.isArray" />
        </div>
        <div class="col col-md-2">
            <select value.bind="p.dataType">
                <optgroup label="Base types">
                    <option>any</option>
                    <option>string</option>
                    <option>number</option>
                    <option>boolean</option>
                    <option>Date</option>
                    <option>IFile</option>
                </optgroup>
                <optgroup label="Complex types">
                    <option repeat.for="m of complexTypes">I${m.name}</option>
                </optgroup>
            </select>
        </div>
        <!--
        <div class="col col-md-2">
            <select value.bind="p.controlType">
                <option>text</option>
                <option>checkbox</option>
                <option>select</option>
                <option>date</option>
                <option>datetime</option>
                <option>email</option>
                <option>textarea</option>
                <option>file</option>
                <option>number</option>
                <option>radio-button</option>
            </select>
        </div>
        <div class="col col-md-2">
            <select value.bind="p.displayType">
                <option>text</option>
                <option>checkbox</option>
                <option>radio-button</option>
                <option>image</option>
            </select>
        </div>
        -->
        <div class="col col-md-1">
            <button click.trigger="removeProperty($index)">[x]</button>
        </div>
    </div>
    <hr/>
    <div>
        <pre>I${model.name} {
    <div repeat.for="p of model.properties">${p.name}: ${p.dataType || 'any'}${p.isArray ? '[]' : ''};</div>
}
    </pre>
    </div>

    <hr/>

    <button click.trigger="save()">Save</button>
</template>